<!doctype html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <title>Torneos</title>
    <!-- NOTA: Estas clases de estilo deberían estar en tu _layout.html o en un archivo CSS externo para reusabilidad -->
    <style>
        body {
          text-align: center;
          font-family: Arial, sans-serif;
          background-color: #0f172a;
          color: #e2e8f0;
        }
        /* Tailwind CSS emulation for the provided classes */
        .w-full {
            width: 100%;
        }
        .text-sm {
            font-size: 0.875rem; /* 14px */
        }
        .border-separate {
            border-collapse: separate;
        }
        .border-spacing-y-1 {
            border-spacing: 0 0.25rem; /* 4px */
        }
        .text-slate-300 {
            color: #cbd5e1;
        }
        .text-left {
            text-align: left;
        }
        .bg-slate-800\/60 {
            background-color: rgba(30, 41, 59, 0.6);
        }
        .px-3 {
            padding-left: 0.75rem; /* 12px */
            padding-right: 0.75rem; /* 12px */
        }
        .py-2 {
            padding-top: 0.5rem; /* 8px */
            padding-bottom: 0.5rem; /* 8px */
        }
        .border {
            border-width: 1px;
        }
        .border-slate-700 {
            border-color: #334155;
        }
        .rounded-md {
            border-radius: 0.375rem; /* 6px */
        }
        .p-4 {
            padding: 1rem; /* 16px */
        }
        .grid {
            display: grid;
        }
        .gap-3 {
            gap: 0.75rem; /* 12px */
        }
        .max-w-md {
            max-width: 28rem; /* 448px */
            margin-left: auto;
            margin-right: auto;
        }
        .mb-6 {
            margin-bottom: 1.5rem; /* 24px */
        }
        .rounded {
            border-radius: 0.25rem; /* 4px */
        }
        .bg-slate-800 {
            background-color: #1e293b;
        }
        .px-3 {
            padding-left: 0.75rem; /* 12px */
            padding-right: 0.75rem; /* 12px */
        }
        .py-2 {
            padding-top: 0.5rem; /* 8px */
            padding-bottom: 0.5rem; /* 8px */
        }
        .bg-sky-500 {
            background-color: #0ea5e9;
        }
        .hover\:bg-sky-600:hover {
            background-color: #0284c7;
        }
        .mb-4 {
            margin-bottom: 1rem; /* 16px */
        }
        .font-bold {
            font-weight: 700;
        }
        .text-xl {
            font-size: 1.25rem; /* 20px */
        }
        /* Nuevos estilos para el enlace del nombre del torneo */
        .text-sky-400 {
            color: #38bdf8; /* Un color azul cielo */
        }
        .hover\:underline:hover {
            text-decoration: underline; /* Subrayado al pasar el ratón */
        }
    </style>
</head>

<body>
<section layout:fragment="content">

    <h1 class="text-xl font-bold mb-4">Torneos</h1>

    <form th:action="@{/torneos}" th:object="${torneo}" method="post"
          class="grid gap-3 max-w-xl mb-6">
        <input class="px-3 py-2 rounded bg-slate-800"
               th:field="*{nombre}" placeholder="Nombre del torneo">
        <input class="px-3 py-2 rounded bg-slate-800"
               th:field="*{juego}" placeholder="Juego">
        <input class="px-3 py-2 rounded bg-slate-800"
               th:field="*{fechaInicio}" type="date">
        <input class="px-3 py-2 rounded bg-slate-800"
               th:field="*{fechaFin}" type="date">
        <textarea class="px-3 py-2 rounded bg-slate-800"
                  th:field="*{reglas}" placeholder="Reglas"></textarea> <!-- Mantenido th:field="*{reglas}" -->
        <button class="px-3 py-2 rounded bg-sky-500 hover:bg-sky-600">
            Crear Torneo
        </button>
    </form>

    <table class="w-full text-sm border-separate border-spacing-y-1">
        <thead class="text-slate-300">
        <tr>
            <th class="text-left">ID</th>
            <th>Nombre</th>
            <th>Juego</th>
            <th>Inicio</th>
            <th>Fin</th>
            <th>Estado</th>
            <th>Acciones</th> <!-- Columna para acciones como "Ver Detalles" o "Editar" -->
        </tr>
        </thead>
        <tbody>
        <tr th:each="t : ${torneos}" class="bg-slate-800/60">
            <td class="px-3 py-2" th:text="${t.id}"></td>
            <td class="px-3 py-2">
                <!-- AQUÍ ESTÁ EL CAMBIO PARA HACER EL NOMBRE UN ENLACE -->
                <a th:href="@{/torneos/{id}(id=${t.id})}" th:text="${t.nombre}" class="text-sky-400 hover:underline"></a>
            </td>
            <td class="px-3 py-2" th:text="${t.juego}"></td>
            <td class="px-3 py-2" th:text="${t.fechaInicio}"></td> <!-- Asume que el campo es 'fechaInicio' en tu entidad Java -->
            <td class="px-3 py-2" th:text="${t.fechaFin}"></td>   <!-- Asume que el campo es 'fechaFin' en tu entidad Java -->
            <td class="px-3 py-2" th:text="${t.estado}"></td>     <!-- Mantenido 'estado' como estaba en tu código -->
            <td class="px-3 py-2">
                <a th:href="@{/torneos/{id}(id=${t.id})}" class="text-sm px-2 py-1 rounded bg-sky-500 hover:bg-sky-600">Ver Detalles</a>
            </td>
        </tr>
        </tbody>
    </table>

</section>

</body>
</html>