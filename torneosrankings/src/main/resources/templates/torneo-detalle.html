<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{_layout}">
<head>
    <title th:text="${title}">Detalle de Torneo</title>

    <th:block layout:fragment="custom-styles">
        <style>
            /* ===== Estilos generales ===== */
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #3b82f6, #9333ea);
                color: #f9fafb;
                min-height: 100vh;
                margin: 0;
                padding: 1rem;
            }
            h1 {
                font-size: 1.8rem;
                font-weight: 800;
                color: #ffeb3b;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
                text-align: center;
                margin-bottom: 1.5rem;
            }

            /* ===== Botón compacto ===== */
            .compact-button {
                display: inline-flex;
                align-items: center;
                padding: 0.6rem 1.2rem;
                background: linear-gradient(90deg, #22c55e, #16a34a);
                color: #fff;
                border-radius: 0.5rem;
                text-decoration: none;
                font-size: 0.95rem;
                font-weight: 700;
                transition: transform 0.2s ease, box-shadow 0.2s ease;
                border: none;
                cursor: pointer;
                box-shadow: 0 4px 10px rgba(0,0,0,0.3);
                margin-bottom: 2rem;
            }
            .compact-button:hover {
                background: linear-gradient(90deg, #4ade80, #22c55e);
                transform: scale(1.05);
                box-shadow: 0 6px 14px rgba(0,0,0,0.4);
            }
            .compact-button svg {
                margin-right: 0.5rem;
                height: 1.25rem;
                width: 1.25rem;
            }

            /* ===== Contenedor de detalles ===== */
            .tournament-detail-container {
                max-width: 900px;
                margin: 0 auto;
                padding: 1.5rem;
                background-color: rgba(0,0,0,0.3);
                border-radius: 0.5rem;
                box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            }
            .detail-item {
                margin-bottom: 1rem;
                font-size: 1rem;
            }
            .detail-item strong {
                color: #ffe4e6;
                margin-right: 0.5rem;
                font-weight: 600;
            }
            .detail-item span {
                color: #f9fafb;
            }

            /* ===== Mermaid ===== */
            .mermaid-placeholder {
                background-color: #2b3b55;
                padding: 1rem;
                border-radius: 0.5rem;
                margin-top: 1.5rem;
                overflow-x: auto;
                color: #e2e8f0;
            }
            #myMermaidGraph svg .node rect,
            #myMermaidGraph svg .node circle,
            #myMermaidGraph svg .node ellipse,
            #myMermaidGraph svg .node polygon {
                fill: #60a5fa;
                stroke: #2563eb;
                stroke-width: 2px;
            }
            #myMermaidGraph svg .node text {
                fill: #fff;
            }
            #myMermaidGraph svg .edgePath .path {
                stroke: #94a3b8;
                stroke-width: 2px;
            }
            #myMermaidGraph svg .edgeLabel {
                background-color: #2b3b55;
                color: #e2e8f0;
                padding: 2px 5px;
                border-radius: 3px;
            }

            @media (max-width: 768px) {
                h1 {
                    font-size: 1.5rem;
                }
                .tournament-detail-container {
                    padding: 1rem;
                }
            }
        </style>
    </th:block>
</head>

<body>
<main layout:fragment="content">
    <!-- Botón para regresar al Dashboard -->
    <div style="text-align: center; max-width:800px; margin:0 auto;">
        <a th:href="@{/dashboard}" class="compact-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd"
                      d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z"
                      clip-rule="evenodd" />
            </svg>
            <span>Regresar al Dashboard</span>
        </a>
    </div>

    <!-- Título del Torneo -->
    <h1 th:text="${torneo.nombre}">Nombre del Torneo</h1>

    <div class="tournament-detail-container">
        <div class="detail-item">
            <strong>ID:</strong><span th:text="${torneo.id}"></span>
        </div>
        <div class="detail-item">
            <strong>Nombre:</strong><span th:text="${torneo.nombre}"></span>
        </div>
        <div class="detail-item">
            <strong>Fecha de Inicio:</strong><span th:text="${torneo.fechaInicio}"></span>
        </div>
        <div class="detail-item">
            <strong>Fecha de Fin:</strong><span th:text="${torneo.fechaFin}"></span>
        </div>

        <h2 style="text-align:center; font-size:1.5rem; margin-top:2rem; color:#ffeb3b;">
            Bracket del Torneo
        </h2>

        <div id="myMermaidGraph" class="mermaid-placeholder">
            <pre th:text="${mermaidBracketText}"></pre>
        </div>

        <p style="text-align:center; color:#cbd5e1; margin-top:1rem;">
            Este diagrama muestra el progreso del torneo.
        </p>
    </div>
</main>
</body>
</html>