<!doctype html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title>Partidas</title>
    <style>
        body {
    text-align: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #3b82f6, #9333ea); /* azul -> morado */
    color: #f9fafb;
    min-height: 100vh;
    margin: 0;
    padding: 1rem;
}

h1 {
    font-size: 1.8rem;
    font-weight: 800;
    color: #ffeb3b; /* Amarillo vivo */
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

h2 {
    font-size: 1.2rem;
    font-weight: 700;
    color: #f0f9ff;
    margin-top: 1.5rem;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
}

/* --- BOTÓN REGRESAR DASHBOARD --- */
.compact-button {
    display: inline-flex;
    align-items: center;
    padding: 0.5rem 1rem; /* Tamaño uniforme como en otros HTML */
    background: linear-gradient(90deg, #22c55e, #16a34a);
    color: #fff;
    border-radius: 0.5rem;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 700;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

.compact-button:hover {
    background: linear-gradient(90deg, #4ade80, #22c55e);
    transform: scale(1.05);
    box-shadow: 0 6px 14px rgba(0,0,0,0.4);
}

.compact-button svg {
    margin-right: 0.5rem;
    height: 1.25rem;
    width: 1.25rem;
}

/* --- SELECTS --- */
form select {
    padding: 0.6rem;
    border-radius: 0.4rem;
    border: none;
    background-color: rgba(255,255,255,0.15);
    color: #fff;
    outline: none;
    transition: background 0.3s;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
}

form select option {
    background-color: #1e1b4b; /* Azul oscuro */
    color: #fff;
    padding: 0.6rem;
}

form select:focus {
    background-color: rgba(255,255,255,0.25);
}

/* --- BOTÓN CREAR PARTIDA --- */
form button {
    background: linear-gradient(90deg, #ec4899, #db2777);
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 0.4rem;
    color: #fff;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

form button:hover {
    background: linear-gradient(90deg, #f472b6, #ec4899);
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* --- TABLA --- */
table {
    width: 100%;
    border-spacing: 0 0.5rem;
    margin-top: 1.5rem;
}

th {
    text-align: left;
    padding: 0.8rem;
    color: #ffe4e6; /* Rosado claro */
    font-weight: bold;
}

td {
    padding: 0.8rem;
    background: rgba(0,0,0,0.3);
    border-radius: 0.4rem;
    transition: background 0.3s;
}

tr:hover td {
    background: rgba(255,255,255,0.15);
}

/* Inputs numéricos */
input[type="number"] {
    width: 4rem;
    padding: 0.4rem;
    border-radius: 0.4rem;
    border: none;
    background-color: rgba(255,255,255,0.15);
    color: #fff;
}

input[type="number"]:focus {
    background-color: rgba(255,255,255,0.25);
}

/* Botón guardar puntaje */
.save-btn {
    background: linear-gradient(90deg, #10b981, #059669);
    color: #fff;
    border-radius: 0.4rem;
    padding: 0.4rem 0.8rem;
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.save-btn:hover {
    background: linear-gradient(90deg, #4ade80, #22c55e);
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}
    </style>
</head>
<body>
<section layout:fragment="content">
    <!-- Botón para regresar al Dashboard (estilo más compacto) -->
    <div class="mb-4" style="text-align: center; max-width: 800px; margin: 0 auto;">
        <a th:href="@{/dashboard}" class="compact-button">
            <!-- Icono de flecha hacia la izquierda -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd" />
            </svg>
            <span>Regresar al Dashboard</span>
        </a>
    </div>

    <h1 class="text-xl font-bold mb-4">Partidas</h1>

    <form th:action="@{/partidas}" method="post"
          class="grid gap-3 max-w-xl mb-6">
        <label class="text-slate-300">Torneo</label>
        <select name="torneoId" class="px-3 py-2 rounded bg-slate-800">
            <option th:each="t : ${torneos}"
                    th:value="${t.id}" th:text="${t.nombre}"></option>
        </select>
        <label class="text-slate-300">Equipo A</label>
        <select name="equipoAId" class="px-3 py-2 rounded bg-slate-800">
            <option th:each="e : ${equipos}"
                    th:value="${e.id}" th:text="${e.nombre}"></option>
        </select>
        <label class="text-slate-300">Equipo B</label>
        <select name="equipoBId" class="px-3 py-2 rounded bg-slate-800">
            <option th:each="e : ${equipos}"
                    th:value="${e.id}" th:text="${e.nombre}"></option>
        </select>
        <button class="px-3 py-2 rounded bg-sky-500 hover:bg-sky-600">
            Crear Partida
        </button>
    </form>

    <h2 class="text-lg font-semibold mb-2">Registrar Resultados</h2>

    <table class="w-full text-sm border-separate border-spacing-y-1">
        <thead class="text-slate-300">
        <tr>
            <th>ID</th>
            <th>Torneo</th>
            <th>Equipo A</th>
            <th>Equipo B</th>
            <th>Estado</th>
            <th>Resultado</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="p : ${partidas}" class="bg-slate-800/60">
            <td class="px-3 py-2" th:text="${p.id}"></td>
            <td class="px-3 py-2" th:text="${p.torneo.nombre}"></td>
            <td class="px-3 py-2" th:text="${p.equipoA.nombre}"></td>
            <td class="px-3 py-2" th:text="${p.equipoB.nombre}"></td>
            <td class="px-3 py-2" th:text="${p.estado}"></td>
            <td class="px-3 py-2">
                <form th:action="@{'/partidas/' + ${p.id} + '/resultado'}"
                      method="post" class="flex gap-2 items-center">
                    <input type="number" min="0" name="puntajeA"
                           class="w-16 px-2 py-1 rounded bg-slate-700" placeholder="A">
                    <input type="number" min="0" name="puntajeB"
                           class="w-16 px-2 py-1 rounded bg-slate-700" placeholder="B">
                    <button class="px-2 py-1 rounded bg-emerald-500 hover:bg-emerald-600">
                        Guardar
                    </button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</section>
</body>
</html>